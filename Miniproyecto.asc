Version 4
SHEET 1 2496 712
WIRE -144 -704 -144 -736
WIRE 480 -672 144 -672
WIRE 768 -656 544 -656
WIRE 896 -656 768 -656
WIRE 480 -640 288 -640
WIRE -144 -576 -144 -624
WIRE -64 -576 -144 -576
WIRE 768 -560 768 -656
WIRE 816 -560 768 -560
WIRE -144 -544 -144 -576
WIRE -64 -544 -64 -576
WIRE 928 -448 848 -448
WIRE -144 -416 -144 -464
WIRE 976 -400 976 -432
WIRE 1040 -400 976 -400
WIRE 816 -384 816 -560
WIRE 848 -384 848 -448
WIRE 848 -384 816 -384
WIRE 976 -384 976 -400
WIRE 848 -304 848 -384
WIRE 928 -304 848 -304
WIRE 976 -240 976 -288
WIRE 1424 16 1264 16
WIRE 1664 16 1424 16
WIRE 384 48 208 48
WIRE 1664 80 1664 16
WIRE 1424 96 1424 16
WIRE 80 112 -112 112
WIRE 288 128 272 128
WIRE 384 128 384 48
WIRE 384 128 352 128
WIRE 400 128 384 128
WIRE 496 128 464 128
WIRE -112 160 -112 112
WIRE 80 160 80 112
WIRE 208 160 208 48
WIRE 272 192 272 128
WIRE 272 192 256 192
WIRE 496 192 496 128
WIRE 544 192 496 192
WIRE 624 192 544 192
WIRE 816 192 624 192
WIRE 976 192 912 192
WIRE 1040 192 976 192
WIRE 1152 192 1104 192
WIRE 1264 192 1264 16
WIRE 1264 192 1152 192
WIRE 624 240 624 192
WIRE 976 240 976 192
WIRE 1664 240 1664 176
WIRE 1728 240 1664 240
WIRE 1824 240 1808 240
WIRE 1936 240 1824 240
WIRE 272 256 272 192
WIRE 288 256 272 256
WIRE 384 256 352 256
WIRE 400 256 384 256
WIRE 496 256 496 192
WIRE 496 256 464 256
WIRE 544 256 544 192
WIRE 832 256 832 240
WIRE 1152 256 1152 192
WIRE 1264 256 1264 192
WIRE -112 288 -112 240
WIRE 64 288 -112 288
WIRE 80 288 80 240
WIRE 80 288 64 288
WIRE 1424 288 1424 160
WIRE 1472 288 1424 288
WIRE 208 336 208 240
WIRE 384 336 384 256
WIRE 384 336 208 336
WIRE 1664 336 1664 240
WIRE 1424 352 1424 288
WIRE 1936 352 1936 240
WIRE 256 384 256 192
WIRE 544 384 544 320
WIRE 544 384 256 384
WIRE 624 384 624 320
WIRE 624 384 544 384
WIRE 832 384 832 336
WIRE 832 384 624 384
WIRE 864 384 832 384
WIRE 976 384 976 320
WIRE 976 384 864 384
WIRE 1152 384 1152 320
WIRE 1152 384 976 384
WIRE 1264 384 1264 336
WIRE 1264 384 1152 384
WIRE 1824 384 1824 240
WIRE 1264 512 1264 384
WIRE 1424 512 1424 416
WIRE 1424 512 1264 512
WIRE 1664 512 1664 432
WIRE 1664 512 1424 512
WIRE 1472 544 1472 288
WIRE 1824 544 1824 448
WIRE 1824 544 1472 544
WIRE 1936 544 1936 432
WIRE 1936 544 1824 544
FLAG -112 112 Vin
IOPIN -112 112 In
FLAG 64 288 0
FLAG 864 384 0
FLAG 1424 512 0
FLAG 1616 160 spwm1
FLAG 1616 416 spwm2
FLAG 144 -592 0
FLAG 288 -560 0
FLAG -64 -544 0
FLAG -144 -736 VCC
FLAG -144 -416 VEE
FLAG 512 -688 VCC
FLAG 512 -624 VEE
FLAG 896 -656 spwm1
FLAG 976 -240 0
FLAG 1040 -400 spwm2
FLAG 688 -320 0
FLAG 688 -400 VDD
IOPIN 688 -400 In
FLAG 976 -528 VDD
IOPIN 976 -528 In
SYMBOL ind2 64 144 R0
WINDOW 3 20 1 Left 2
SYMATTR Value 100m
SYMATTR InstName L1
SYMATTR Type ind
SYMBOL ind2 224 144 M0
SYMATTR InstName L2
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL voltage -112 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.001
SYMATTR InstName V1
SYMATTR Value SINE(0 180 1k)
SYMBOL diode 288 144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4007
SYMBOL diode 400 144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4007
SYMBOL diode 288 272 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4007
SYMBOL diode 400 272 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4007
SYMBOL cap 528 256 R0
SYMATTR InstName C1
SYMATTR Value 10000µ
SYMBOL res 608 224 R0
SYMATTR InstName R1
SYMATTR Value 20
SYMBOL pmos 912 240 M270
SYMATTR InstName M1
SYMATTR Value IRF9640
SYMBOL voltage 832 240 R0
WINDOW 3 -175 198 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 18 0 0.1u 0.1u {(1-D)*T} {T})
SYMATTR InstName V2
SYMBOL ind 960 224 R0
SYMATTR InstName L3
SYMATTR Value 0.03m
SYMBOL cap 1136 256 R0
SYMATTR InstName C2
SYMATTR Value 220µ
SYMBOL res 1248 240 R0
SYMATTR InstName R2
SYMATTR Value 20
SYMBOL schottky 1104 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D5
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 1408 96 R0
SYMATTR InstName C3
SYMATTR Value 470µ
SYMBOL cap 1408 352 R0
SYMATTR InstName C4
SYMATTR Value 470µ
SYMBOL nmos 1616 80 R0
SYMATTR InstName M2
SYMATTR Value IRF530
SYMBOL cap 1808 384 R0
SYMATTR InstName C5
SYMATTR Value 220µ
SYMBOL ind 1712 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value 5m
SYMBOL res 1920 336 R0
SYMATTR InstName R3
SYMATTR Value 20
SYMBOL voltage 288 -656 R0
WINDOW 0 -67 57 Left 2
WINDOW 3 -100 128 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(-18 18 0 10u 10u 10n 20u)
SYMBOL voltage 144 -688 R0
WINDOW 0 -69 44 Left 2
WINDOW 3 -196 81 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(0 18 200)
SYMBOL OpAmps\\OP07 512 -720 R0
SYMATTR InstName U1
SYMBOL voltage -144 -720 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 19
SYMBOL voltage -144 -560 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 1
SYMBOL pmos 928 -528 R0
SYMATTR InstName M4
SYMATTR Value BSS84
SYMBOL nmos 928 -384 R0
SYMATTR InstName M5
SYMATTR Value Si7336ADP
SYMBOL voltage 688 -416 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value 18
SYMBOL nmos 1616 336 R0
SYMATTR InstName M3
SYMATTR Value IRF530
TEXT -40 96 Left 2 !K L1 L2 1
TEXT -144 296 Left 2 !.tran 100ms
TEXT 656 472 Left 2 !.param T 20u
TEXT 656 504 Left 2 !.param D 0.5
